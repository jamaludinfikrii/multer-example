(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{145:function(e,t,a){e.exports=a(255)},150:function(e,t,a){},151:function(e,t,a){},255:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),l=a(3),r=a.n(l),o=(a(150),a(17)),i=a(18),s=a(20),m=a(21),u=(a(151),a(39)),d=a.n(u),p=function(e){Object(m.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(e=t.call.apply(t,[this].concat(c))).onBtnSubmitClick=function(){var t=e.refs.name.value,a=Number(e.refs.price.value),n=e.refs.images.files,c={name:t,price:a};if(console.log(n),c=JSON.stringify(c),console.log(c),t&&a&&n){for(var l=new FormData,r=0;r<n.length;r++)l.append("product-images",n[r]);l.append("productData",c),console.log(l),d.a.post("https://file-upload-system-fikri.herokuapp.com/product",l).then((function(t){console.log(t.data),alert(t.data.message),e.refs.name.value="",e.refs.price.value=null,e.refs.images.value=null})).catch((function(e){console.log(e)}))}else alert("error")},e}return Object(i.a)(a,[{key:"render",value:function(){return c.a.createElement("div",{className:"container pt-5"},c.a.createElement("div",{className:"row justify-content-center"},c.a.createElement("div",{className:"col-md-4 card"},c.a.createElement("span",{className:"card-title text-center"},"Post Product"),c.a.createElement("div",{className:"card-body"},c.a.createElement("input",{type:"text",ref:"name",placeholder:"Product Name",className:"form-control"}),c.a.createElement("input",{type:"number",ref:"price",placeholder:"Product Price",className:"form-control  mt-3"}),c.a.createElement("input",{ref:"images",type:"file",className:"form-control mt-3",accept:"image/*",multiple:"multiple"}),c.a.createElement("input",{type:"button",className:"btn btn-outline-primary mt-3",value:"submit",onClick:this.onBtnSubmitClick})))))}}]),a}(c.a.Component),h=a(258),f=a(260),g=a(261),E=a(40),v=function(e){Object(m.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(e=t.call.apply(t,[this].concat(c))).state={current:"post"},e.handleClick=function(t){console.log("click ",t),e.setState({current:t.key})},e}return Object(i.a)(a,[{key:"render",value:function(){return c.a.createElement(h.a,{onClick:this.handleClick,selectedKeys:[this.state.current],mode:"horizontal"},c.a.createElement(h.a.Item,null,c.a.createElement(f.a,{key:"home"}),"Upload File System"),c.a.createElement(h.a.Item,{key:"post"},c.a.createElement(E.b,{to:"/post-product"},c.a.createElement(g.a,null),"Post Product")),c.a.createElement(h.a.Item,{key:"list"},c.a.createElement(E.b,{to:"/products"},"Product List")))}}]),a}(c.a.Component),y=a(34),k=a(257),b=a(256),N=a(259),j=a(262),S=k.a.Title,w=function(e){Object(m.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={data:null},e.getAllProducts=function(){d.a.get("https://file-upload-system-fikri.herokuapp.com/product").then((function(t){console.log(t.data);var a,n=[];t.data.data.forEach((function(e){a=!1;for(var t=0;t<n.length;t++)if(e.product_id===n[t].product_id){a=!0;break}a||n.push(e)})),console.log(t.data.data),console.log(n),e.setState({data:n})})).catch((function(e){console.log(e)}))},e.renderDataToJsx=function(){return e.state.data.map((function(e){return c.a.createElement("div",{className:"col-md-4"},c.a.createElement(b.a,null,c.a.createElement("div",{style:{height:"120px"},className:"row"},c.a.createElement("div",{className:"col-6 h-100"},c.a.createElement("img",{alt:"broken",width:"100%",style:{objectFit:"cover",objectPosition:"top",height:"100%"},src:"https://file-upload-system-fikri.herokuapp.com/"+e.image_url})),c.a.createElement("div",{className:"col-6"},c.a.createElement(S,{level:4},e.name),c.a.createElement("div",null,"Rp. ",e.price),c.a.createElement("div",{className:"mt-3"},c.a.createElement(E.b,{to:"/product-detail/"+e.product_id},c.a.createElement(N.a,{type:"primary",icon:c.a.createElement(j.a,null)},"See Detail")))))))}))},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.getAllProducts()}},{key:"render",value:function(){return null===this.state.data?c.a.createElement("h1",null,"Loading ..."):0===this.state.data.length?c.a.createElement("h1",null,"Data Product Masih Kosong"):c.a.createElement("div",{className:"container mt-5"},c.a.createElement("div",{className:"row"},this.renderDataToJsx()))}}]),a}(c.a.Component),I=function(e){Object(m.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={data:null,dataSelected:null,selectedImage:null},e.getDataProduct=function(){var t=window.location.pathname.split("/")[2];d.a.get("https://file-upload-system-fikri.herokuapp.com/product/"+t).then((function(t){console.log(t.data),e.setState({data:t.data.data,dataSelected:t.data.data[0]})})).catch((function(e){console.log(e)}))},e.renderListImage=function(){var t=e.state.data;return(t=t.filter((function(t){return t.image_id!==e.state.dataSelected.image_id}))).map((function(t){return c.a.createElement("div",{className:"col-md-2",style:{height:"120px"}},c.a.createElement(b.a,{className:"h-100"},c.a.createElement("img",{onClick:function(){return e.setState({dataSelected:t})},src:"https://file-upload-system-fikri.herokuapp.com/"+t.image_url,style:{height:"80px",objectFit:"contain",cursor:"pointer"},width:"100%",alt:"broken"})))}))},e.onBtnSaveEditClick=function(){console.log(e.state.dataSelected);var t=e.refs.editImage.files[0],a=e.state.dataSelected.image_id,n=e.state.dataSelected.image_url;console.log("masuk");var c=new FormData;c.append("editImage",t),c.append("path",n),d.a.patch("https://file-upload-system-fikri.herokuapp.com/product/image/"+a,c).then((function(t){!1===t.data.error&&(alert(t.data.message),e.setState({selectedImage:null}),e.getDataProduct())})).catch((function(e){}))},e.onChangeInputImage=function(){var t=e.refs.editImage.files[0];e.setState({selectedImage:t.name})},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.getDataProduct()}},{key:"render",value:function(){var e=this;return null===this.state.data||null===this.state.dataSelected?c.a.createElement("h1",null,"Loading ..."):0===this.state.data.length?c.a.createElement("h1",null,"Data Kosong"):c.a.createElement("div",{className:"container"},c.a.createElement("h4",{className:"text-center"},this.state.data[0].name),c.a.createElement("h5",{className:"text-center"},"Rp. ",this.state.data[0].price),c.a.createElement("div",{className:"row justify-content-center"},c.a.createElement("div",{className:"col-md-6",style:{height:"50vh"}},c.a.createElement(b.a,{className:"h-100"},c.a.createElement("img",{src:"https://file-upload-system-fikri.herokuapp.com/"+this.state.dataSelected.image_url,style:{height:"45vh",objectFit:"contain"},width:"100%",alt:"broken"})),c.a.createElement("div",{className:"text-center mt-3"},c.a.createElement(N.a,{className:"text-center",onClick:function(){return e.refs.editImage.click()},type:"primary"},null===this.state.selectedImage?"Edit Image":this.state.selectedImage),c.a.createElement("input",{onChange:this.onChangeInputImage,accept:"image/*",style:{display:"none"},ref:"editImage",type:"file"}),null===this.state.selectedImage?c.a.createElement(N.a,{className:"text-center",type:"danger"},"Delete Image"):c.a.createElement("span",null,c.a.createElement(N.a,{className:"text-center",onClick:this.onBtnSaveEditClick,type:"ghost"},"Save"),c.a.createElement(N.a,{className:"text-center",onClick:function(){return e.setState({selectedImage:null})},type:"danger"},"Cancel"))))),c.a.createElement("div",{className:"row mt-5"},this.renderListImage()))}}]),a}(n.Component),C=function(e){Object(m.a)(a,e);var t=Object(s.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement(E.a,null,c.a.createElement(v,null),c.a.createElement(y.a,{path:"/products"},c.a.createElement(w,null)),c.a.createElement(y.a,{path:"/product-detail"},c.a.createElement(I,null)),c.a.createElement(y.a,{path:"/post-product"},c.a.createElement(p,null))))}}]),a}(c.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(254);r.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(C,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[145,1,2]]]);
//# sourceMappingURL=main.05a21285.chunk.js.map